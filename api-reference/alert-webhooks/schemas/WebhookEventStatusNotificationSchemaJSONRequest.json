{
  "$ref": "#/definitions/WebhookEventStatusNotificationSchemaJSONRequest",
  "definitions": {
    "WebhookEventStatusNotificationSchemaJSONRequest": {
      "type": "object",
      "properties": {
        "watchlistId": {
          "type": "string"
        },
        "eventId": {
          "type": "string"
        },
        "eventTitle": {
          "type": "string"
        },
        "marketId": {
          "type": "string"
        },
        "marketQuestion": {
          "type": "string"
        },
        "createdAt": {
          "$ref": "#/definitions/Date"
        },
        "outcomePrices": {
          "type": "string"
        },
        "outcomes": {
          "type": "string"
        },
        "type": {
          "$ref": "#/definitions/NotificationType"
        },
        "userId": {
          "type": "string"
        },
        "subscriptionId": {
          "type": "string"
        },
        "watchlistName": {
          "type": "string"
        },
        "polymarketSlug": {
          "type": "string"
        },
        "eventStatusScope": {
          "$ref": "#/definitions/EventStatusScope"
        },
        "triggerType": {
          "$ref": "#/definitions/EventStatusTriggerType"
        },
        "channels": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/NotificationChannel"
          }
        },
        "detectedAt": {
          "type": "string"
        },
        "detectedAtMs": {
          "type": "number"
        }
      },
      "additionalProperties": false,
      "required": [
        "channels",
        "createdAt",
        "detectedAt",
        "detectedAtMs",
        "eventId",
        "eventStatusScope",
        "eventTitle",
        "polymarketSlug",
        "subscriptionId",
        "triggerType",
        "type",
        "userId",
        "watchlistId",
        "watchlistName"
      ]
    },
    "Date": {
      "type": "string",
      "format": "date-time"
    },
    "NotificationType": {
      "enum": [
        "event_status_notification",
        "price_notification"
      ],
      "type": "string"
    },
    "EventStatusScope": {
      "type": "string",
      "enum": [
        "Market",
        "Event"
      ]
    },
    "EventStatusTriggerType": {
      "type": "string",
      "enum": [
        "Open",
        "Closed"
      ]
    },
    "NotificationChannel": {
      "type": "object",
      "properties": {
        "type": {
          "$ref": "#/definitions/NotificationChannelType"
        },
        "settings": {
          "type": "object",
          "properties": {
            "telegramChatId": {
              "type": "number"
            },
            "webhookUrl": {
              "type": "string"
            },
            "discordWebhookUrl": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "status": {
          "enum": [
            "BLOCKED_BY_USER",
            "FAILED",
            "PENDING",
            "READ",
            "SENT"
          ],
          "type": "string"
        }
      },
      "additionalProperties": false,
      "required": [
        "type"
      ]
    },
    "NotificationChannelType": {
      "type": "string",
      "enum": [
        "In App",
        "Webhook",
        "Discord",
        "Telegram"
      ]
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}